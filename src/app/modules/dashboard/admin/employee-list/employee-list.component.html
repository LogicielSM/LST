<!-- loader run before get data -->
<lst-loader [isRunning]="isRequesting"></lst-loader>

<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">
            Employe List
            <a class="pointer" routerLink="/app-dashboard/employee-form">
                <i class="fa fa-user-plus fa-1 pull-right"></i>
            </a>
        </h1>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <div class="panel">
            <div class="panel-body" *ngIf="!employees || (employees && !employees[0])">
                No records.
            </div>
            <div class="panel-body" *ngIf="employees && employees[0]">
                <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
                    <thead>
                       <tr>
                            <th>Emp Id</th>
                            <!-- <th>Emp. ID</th> -->
                            <!-- <th>Emp. Name</th> -->
                            <th>Name</th>
                            <th>Email</th>
                            <th>Dob</th>
                            <th>Actions</th>
                           
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor = "let emp of employees | orderBy: [('created_at')]; let i = index "
                              class="odd gradeX pointer">
                            <td>{{ i + 1 }} </td>
                            <!-- <td>{{ emp?.user[0]?.emp_id }}</td> -->
                            <!-- <td>{{ emp?.user[0]?.name }}</td> -->
                            <td>
                                {{ emp?.first_name }} {{ emp?.last_name }}
                            </td>
                            <td>
                                {{ emp?.email }}
                            </td>
                            <td>
                                {{ emp?.dob | date:'mediumDate' }}
                            </td>
                            <td>
                                <!-- View -->
								<button type="button" 
										(click)="viewEmployee(emp.id)">
									<i class="fa fa-eye" aria-hidden="true"></i>
								</button>

								<!-- Edit -->
								<button type="button" 
										(click)="editEmployee(emp.id)">
								  	<i class="fa fa-pencil" aria-hidden="true"></i>
								</button>

								<!-- Delete -->
								<a type="button"
									href="#myModal" 
									(click)="deleteEmployee(emp.id)">
									<i class="fa fa-trash" aria-hidden="true"></i>
								</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Ask to delete Popup (Confirmation) -->
<div id="myModal" class="modal">
	<div class="modal-dialog modal-sm">
		<div class="modal-contents">
			<div class="modal-header">
				<h4 class="modal-titles center-align">Confirm</h4>
			</div>
			<div class="modal-body">
				<p>Are you sure to delete? </p>
			</div>
			<div class="modal-footer">
				<a type="button"
					class="btn modal-close left"
					data-dismiss="modal">
					No
				</a>
				<a type="button"
					class="btn modal-close right"
					(click)="modalConfirmation()">
					Yes
				</a>
			</div>
		</div>
	</div>
</div>
<!-- End of popup modal -->