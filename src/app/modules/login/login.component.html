<lst-loader [isRunning]="isRequesting"></lst-loader>

<div class="container">
    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <div class="login-panel panel panel-default">
                <div class="text-center">
                    <h1>LST</h1>
                </div>
                <div class="panel-heading">
                    <h3 class="panel-title">Please Login</h3>
                </div>
                <div class="panel-body">
                    <form role="form" [formGroup]="loginForm">
                        <fieldset>
                            <div class="form-group">
                                <input class="form-control"
                                    placeholder="E-mail"
                                    name="email"
                                    type="email"
                                    [(ngModel)]="loginData.email"
                                    formControlName="email">
                                <div class="error" *ngIf="loginForm.controls.email.errors && loginForm.controls.email.touched">
                                    <span *ngIf="loginForm.controls.email.errors.required">
                                        {{ msg?.REQUIRED }}
                                    </span>
                                    <span *ngIf="!loginForm.controls.email.errors.required && loginForm.controls.email.errors.pattern">
                                        {{ msg?.INVALID }}
                                    </span>
                                </div>
                            </div>
                            <div class="form-group">
                                <input class="form-control"
                                placeholder="Password"
                                name="password"
                                type="password"
                                [(ngModel)] = "loginData.password" 
                                formControlName="password">
                                <div class="error" *ngIf="loginForm.controls.password.errors && loginForm.controls.password.touched">
                                    <span *ngIf="loginForm.controls.password.errors.required">
                                        {{ msg?.REQUIRED }}
                                    </span>
                                    <span *ngIf="!loginForm.controls.password.errors.required && loginForm.controls.password.errors.minlength">
                                        {{ msg?.PASSWORD_LENGTH }}
                                    </span>
                                </div>
                            </div>
                            <!-- Change this to a button or input when using this as a form -->
                            <button class="btn btn-lg btn-success btn-block"
                                [disabled]="!loginForm.valid"
                                (click)="login()">
                                Login
                            </button>
                            <div class="btn form-group pull-right">
                                <a routerLink="/forget-password">Forgot Password ?</a>
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End of main container -->